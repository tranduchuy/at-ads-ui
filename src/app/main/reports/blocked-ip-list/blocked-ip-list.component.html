<div class="container">
  <p class="title1">
    BÁO CÁO IP ĐANG CHẠY QUẢNG CÁO TÀI KHOẢN <span style="color: black">{{_sessionService.activeAdsAccountId}}</span>
  </p>

  <div class="mat-elevation-z8 table-wrapper">
    <mat-table [dataSource]="dataSource | paginate: { itemsPerPage: 10, currentPage: currentPageNumber, totalItems: totalItems }">

      <!-- Position Column -->
      <ng-container matColumnDef="order">
        <mat-header-cell *matHeaderCellDef> # </mat-header-cell>
        <mat-cell *matCellDef="let element; let i = index"> {{i+1}} </mat-cell>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="task">
        <mat-header-cell *matHeaderCellDef> Tác vụ </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-icon style="color: crimson" matTooltip="Đã chặn">lock</mat-icon>
        </mat-cell>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="ip">
        <mat-header-cell *matHeaderCellDef> IP </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element._id}} </mat-cell>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="network">
        <mat-header-cell *matHeaderCellDef> Mạng </mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.network | uppercase}}</mat-cell>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="blockingOver">
        <mat-header-cell *matHeaderCellDef> Khóa trên </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.numberOfCampaigns}} chiến dịch </mat-cell>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="campaign">
        <mat-header-cell *matHeaderCellDef> Chiến dịch </mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.campaignIds.join('. ')}}</mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>

  <div class="pagination-buttons" fxLayout="row" fxLayout.xs="column">
    <p *ngIf="pageTotal > 0">Trang <span [(ngModel)]="currentPageNumber" ngDefaultControl>{{currentPageNumber === 0 || currentPageNumber === undefined ? 1 : currentPageNumber}}</span> trong tổng
      {{pageTotal}} trang</p>
    <p *ngIf="pageTotal === 0">Không có trang nào</p>
    <pagination-controls (pageChange)="changePage($event); currentPageNumber = $event" previousLabel="Trước"
      nextLabel="Sau" fxFlex fxLayoutAlign="end start"></pagination-controls>
  </div>

</div>