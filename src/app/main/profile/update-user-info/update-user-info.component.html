<div class="container">

	<form [formGroup]="form" novalidate class="form" (ngSubmit)="submitForm()">
		<div class="title1 text-center">
			THAY ĐỔI THÔNG TIN TÀI KHOẢN
		</div>

		<div class="user-info" fxLayout="row" fxLayout.xs="column">
			<div class="avatar" fxFlex="25">

				<img [src]="userInfo.avatar || 'https://www.mncplay.id/wp-content/uploads/2016/08/blank-profile.png'" alt="">
				<!-- <button mat-button color="accent" style="padding-left: 0">
					<mat-icon style="font-size: 18px">sync</mat-icon>Thay đổi
				</button> -->
				
			</div>

			<div class="info" fxFlex="75">
				<app-input-text [formControlName]="'name'" [title]="'Họ và Tên'" [pristine]="true"
					[icon]="'person_outline'" [errors]="getMessageErrors('name')" [(ngModel)]="userInfo.name">
				</app-input-text>

				<div fxLayout="row" fxLayoutGap="15px" fxLayout.xs="column">
					<app-input-text [formControlName]="'email'" [title]="'Email'" [pristine]="true" [icon]="'mail'"
						[(ngModel)]="userInfo.email" [readonly]="true"></app-input-text>

					<app-input-text [type]="'number'" [pristine]="true" (keypress)="onPressPhoneNumber($event.keyCode)" [formControlName]="'phone'" [title]="'Số điện thoại'" [icon]="'phone'" [(ngModel)]="userInfo.phone">
					</app-input-text>
				</div>
				
			</div>
		</div>

		<mat-divider></mat-divider>

		<div class="change-password">
			<p class="text-center title2"><strong>
			 	CẬP NHẬT MẬT KHẨU
			</strong></p>

			<app-input-text [formControlName]="'oldPassword'" [title]="'Mật khẩu cũ'" [pristine]="true" [type]="'password'"
				[icon]="'vpn_key'" [errors]="getMessageErrors('oldPassword')" 
				[isDisplayed]="userInfo.usePassword"></app-input-text>

			<app-input-text [formControlName]="'password'" [title]="'Mật khẩu mới'" [pristine]="true"
				[type]="'password'" [icon]="'vpn_key'" [errors]="getMessageErrors('password')">
			</app-input-text>

			<app-input-text [formControlName]="'confirmedPassword'" [title]="'Nhập lại mật khẩu'" [pristine]="true"
				[type]="'password'" [icon]="'vpn_key'" [errors]="getMessageErrors('confirmedPassword')">
			</app-input-text>

		</div>

		<p class="text-center">
			<button mat-raised-button color="accent" class="submit-button" aria-label="Cập nhật"
				[disabled]="isProcessing" type="submit">
				<mat-icon style="font-size: 20px">check</mat-icon> CẬP NHẬT
			</button>
		</p>

	</form>
</div>